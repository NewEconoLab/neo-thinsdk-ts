var nid;
(function(c){(function(c){var b=function(){function a(){}a.allocateUint8=function(c){a.u8=new Uint8Array(c)};a.allocateUint16=function(c){a.u16=new Uint16Array(c)};a.allocateUint32=function(c){a.u32=new Uint32Array(c)};a.getUint8=function(){a.u8||a.allocateUint8(10);return a.u8Index++};a.getUint16=function(){a.u16||a.allocateUint16(24);return a.u16Index++};a.getUint32=function(){a.u32||a.allocateUint32(10);return a.u32Index++};a.u8Index=0;a.u16Index=0;a.u32Index=0;return a}();c.MEMORY=b})(c.utils||(c.utils=
{}))})(nid||(nid={}));
(function(c){var d=c.utils.MEMORY,b=function(){function a(){this.posSlotDecoder=c.BitTreeDecoder.constructArray(6,c.LZMA.kNumLenToPosStates);this.alignDecoder=new c.BitTreeDecoder(c.LZMA.kNumAlignBits);this.posDecoders=new Uint16Array(1+c.LZMA.kNumFullDistances-c.LZMA.kEndPosModelIndex);this.isMatch=new Uint16Array(c.LZMA.kNumStates<<c.LZMA.kNumPosBitsMax);this.isRep=new Uint16Array(c.LZMA.kNumStates);this.isRepG0=new Uint16Array(c.LZMA.kNumStates);this.isRepG1=new Uint16Array(c.LZMA.kNumStates);this.isRepG2=
new Uint16Array(c.LZMA.kNumStates);this.isRep0Long=new Uint16Array(c.LZMA.kNumStates<<c.LZMA.kNumPosBitsMax);this.lenDecoder=new c.LenDecoder;this.repLenDecoder=new c.LenDecoder;this.rangeDec=new c.RangeDecoder;this.outWindow=new c.OutWindow}a.prototype.init=function(){this.loc1=d.getUint32()|0;this.loc2=d.getUint32()|0;this.matchBitI=d.getUint16()|0;this.matchByteI=d.getUint16()|0;this.bitI=d.getUint16()|0;this.symbolI=d.getUint16()|0;this.prevByteI=d.getUint16()|0;this.litStateI=d.getUint16()|0;
this.initLiterals();this.initDist();c.LZMA.INIT_PROBS(this.isMatch);c.LZMA.INIT_PROBS(this.isRep);c.LZMA.INIT_PROBS(this.isRepG0);c.LZMA.INIT_PROBS(this.isRepG1);c.LZMA.INIT_PROBS(this.isRepG2);c.LZMA.INIT_PROBS(this.isRep0Long);this.lenDecoder.init();this.repLenDecoder.init()};a.prototype.create=function(){this.outWindow.create(this.dictSize);this.createLiterals()};a.prototype.createLiterals=function(){this.litProbs=new Uint16Array(768<<this.lc+this.lp)};a.prototype.initLiterals=function(){for(var a=
768<<this.lc+this.lp,b=0;b<a;b++)this.litProbs[b]=c.LZMA.PROB_INIT_VAL};a.prototype.decodeLiteral=function(a,c){d.u16[this.prevByteI]=0;this.outWindow.isEmpty()||(d.u16[this.prevByteI]=this.outWindow.getByte(1));d.u16[this.symbolI]=1;d.u16[this.litStateI]=((this.outWindow.totalPos&(1<<this.lp)-1)<<this.lc)+(d.u16[this.prevByteI]>>>8-this.lc);var b=768*d.u16[this.litStateI]|0;if(7<=a){d.u16[this.matchByteI]=this.outWindow.getByte(c+1);do if(d.u16[this.matchBitI]=d.u16[this.matchByteI]>>>7&1,d.u16[this.matchByteI]<<=
1,d.u16[this.bitI]=this.rangeDec.decodeBit(this.litProbs,b+(1+d.u16[this.matchBitI]<<8)+d.u16[this.symbolI]),d.u16[this.symbolI]=d.u16[this.symbolI]<<1|d.u16[this.bitI],d.u16[this.matchBitI]!=d.u16[this.bitI])break;while(256>d.u16[this.symbolI])}for(;256>d.u16[this.symbolI];)d.u16[this.symbolI]=d.u16[this.symbolI]<<1|this.rangeDec.decodeBit(this.litProbs,b+d.u16[this.symbolI]);this.outWindow.putByte(d.u16[this.symbolI]-256)};a.prototype.decodeDistance=function(a){a>c.LZMA.kNumLenToPosStates-1&&(a=
c.LZMA.kNumLenToPosStates-1);a=this.posSlotDecoder[a].decode(this.rangeDec);if(4>a)return a;var b=(a>>>1)-1;d.u32[this.loc1]=(2|a&1)<<b;a<c.LZMA.kEndPosModelIndex?d.u32[this.loc1]+=c.LZMA.BitTreeReverseDecode(this.posDecoders,b,this.rangeDec,d.u32[this.loc1]-a):(d.u32[this.loc1]+=this.rangeDec.decodeDirectBits(b-c.LZMA.kNumAlignBits)<<c.LZMA.kNumAlignBits,d.u32[this.loc1]+=this.alignDecoder.reverseDecode(this.rangeDec));return d.u32[this.loc1]};a.prototype.initDist=function(){for(var a=0;a<c.LZMA.kNumLenToPosStates;a++)this.posSlotDecoder[a].init();
this.alignDecoder.init();c.LZMA.INIT_PROBS(this.posDecoders)};a.prototype.decodeProperties=function(a){var b=new Uint8Array(4);b[0]=a[0];if(225<=b[0])throw"Incorrect LZMA properties";b[1]=b[0]%9;b[0]/=9;b[2]=b[0]/5;b[3]=b[0]%5;this.lc=b[1];this.pb=b[2];this.lp=b[3];for(b=this.dictSizeInProperties=0;4>b;b++)this.dictSizeInProperties|=a[b+1]<<8*b;this.dictSize=this.dictSizeInProperties;this.dictSize<c.LZMA.LZMA_DIC_MIN&&(this.dictSize=c.LZMA.LZMA_DIC_MIN)};a.prototype.updateState_Literal=function(a){return 4>
a?0:10>a?a-3:a-6};a.prototype.updateState_ShortRep=function(a){return 7>a?9:11};a.prototype.updateState_Rep=function(a){return 7>a?8:11};a.prototype.updateState_Match=function(a){return 7>a?7:10};a.prototype.decode=function(a,b){this.init();this.rangeDec.init();a&&(this.outWindow.outStream=new Uint8Array(new ArrayBuffer(b)));for(var d=0,f=0,h=0,l=0,e=0;;){if(a&&(0==b&&!this.markerIsMandatory)&&this.rangeDec.isFinishedOK())return c.LZMA.LZMA_RES_FINISHED_WITHOUT_MARKER;var g=this.outWindow.totalPos&
(1<<this.pb)-1;if(0==this.rangeDec.decodeBit(this.isMatch,(e<<c.LZMA.kNumPosBitsMax)+g)){if(a&&0==b)return c.LZMA.LZMA_RES_ERROR;this.decodeLiteral(e,d);e=this.updateState_Literal(e);b--}else{if(0!=this.rangeDec.decodeBit(this.isRep,e)){if(a&&0==b||this.outWindow.isEmpty())return c.LZMA.LZMA_RES_ERROR;if(0==this.rangeDec.decodeBit(this.isRepG0,e)){if(0==this.rangeDec.decodeBit(this.isRep0Long,(e<<c.LZMA.kNumPosBitsMax)+g)){e=this.updateState_ShortRep(e);this.outWindow.putByte(this.outWindow.getByte(d+
1));b--;continue}}else{var m;0==this.rangeDec.decodeBit(this.isRepG1,e)?m=f:(0==this.rangeDec.decodeBit(this.isRepG2,e)?m=h:(m=l,l=h),h=f);f=d;d=m}g=this.repLenDecoder.decode(this.rangeDec,g);e=this.updateState_Rep(e)}else{l=h;h=f;f=d;g=this.lenDecoder.decode(this.rangeDec,g);e=this.updateState_Match(e);d=this.decodeDistance(g);if(4294967295==d)return this.rangeDec.isFinishedOK()?c.LZMA.LZMA_RES_FINISHED_WITH_MARKER:c.LZMA.LZMA_RES_ERROR;if(a&&0==b||d>=this.dictSize||!this.outWindow.checkDistance(d))return c.LZMA.LZMA_RES_ERROR}g+=
c.LZMA.kMatchMinLen;m=!1;a&&b<g&&(g=b,m=!0);this.outWindow.copyMatch(d+1,g);b-=g;if(m)return c.LZMA.LZMA_RES_ERROR}}};return a}();c.LzmaDecoder=b})(nid||(nid={}));
(function(c){var d=function(){function b(){this.out_pos=0}b.prototype.create=function(a){this.buf=new Uint8Array(a);this.pos=0;this.size=a;this.isFull=!1;this.totalPos=0};b.prototype.putByte=function(a){this.totalPos++;this.buf[this.pos++]=a;this.pos==this.size&&(this.pos=0,this.isFull=!0);this.outStream[this.out_pos++]=a};b.prototype.getByte=function(a){return this.buf[a<=this.pos?this.pos-a:this.size-a+this.pos]};b.prototype.copyMatch=function(a,b){for(;0<b;b--)this.putByte(this.getByte(a))};b.prototype.checkDistance=
function(a){return a<=this.pos||this.isFull};b.prototype.isEmpty=function(){return 0==this.pos&&!this.isFull};return b}();c.OutWindow=d})(nid||(nid={}));
(function(c){var d=function(){function b(){this.rangeI=0;this.codeI=1;this.loc1=2;this.loc2=3;this.in_pos=13}b.prototype.isFinishedOK=function(){return 0==this.U32[this.codeI]};b.prototype.init=function(){this.U32=new Uint32Array(4);this.U16=new Uint16Array(4);this.corrupted=!1;0!=this.inStream[this.in_pos++]&&(this.corrupted=!0);this.U32[this.rangeI]=4294967295;for(var a=this.U32[this.codeI]=0;4>a;a++)this.U32[this.codeI]=this.U32[this.codeI]<<8|this.inStream[this.in_pos++];this.U32[this.codeI]==
this.U32[this.rangeI]&&(this.corrupted=!0)};b.prototype.normalize=function(){this.U32[this.rangeI]<b.kTopValue&&(this.U32[this.rangeI]<<=8,this.U32[this.codeI]=this.U32[this.codeI]<<8|this.inStream[this.in_pos++])};b.prototype.decodeDirectBits=function(a){this.U32[this.loc1]=0;do this.U32[this.rangeI]>>>=1,this.U32[this.codeI]-=this.U32[this.rangeI],this.U32[this.loc2]=0-(this.U32[this.codeI]>>>31),this.U32[this.codeI]+=this.U32[this.rangeI]&this.U32[this.loc2],this.U32[this.codeI]==this.U32[this.rangeI]&&
(this.corrupted=!0),this.normalize(),this.U32[this.loc1]<<=1,this.U32[this.loc1]+=this.U32[this.loc2]+1;while(--a);return this.U32[this.loc1]};b.prototype.decodeBit=function(a,b){this.U16[0]=a[b];this.U32[2]=(this.U32[0]>>>11)*this.U16[0];this.U32[1]<this.U32[2]?(this.U16[0]+=2048-this.U16[0]>>>5,this.U32[0]=this.U32[2],this.U16[1]=0):(this.U16[0]-=this.U16[0]>>>5,this.U32[1]-=this.U32[2],this.U32[0]-=this.U32[2],this.U16[1]=1);a[b]=this.U16[0];16777216>this.U32[0]&&(this.U32[0]<<=8,this.U32[1]=this.U32[1]<<
8|this.inStream[this.in_pos++]);return this.U16[1]};b.kTopValue=16777216;return b}();c.RangeDecoder=d})(nid||(nid={}));
(function(c){var d=function(){function b(a){this.numBits=a;this.probs=new Uint16Array(1<<this.numBits)}b.prototype.init=function(){c.LZMA.INIT_PROBS(this.probs)};b.prototype.decode=function(a){for(var b=1,c=0;c<this.numBits;c++)b=(b<<1)+a.decodeBit(this.probs,b);return b-(1<<this.numBits)};b.prototype.reverseDecode=function(a){return c.LZMA.BitTreeReverseDecode(this.probs,this.numBits,a)};b.constructArray=function(a,c){for(var d=[],k=0;k<c;k++)d[k]=new b(a);return d};return b}();c.BitTreeDecoder=
d})(nid||(nid={}));
(function(c){var d=function(){function b(){this.lowCoder=c.BitTreeDecoder.constructArray(3,1<<c.LZMA.kNumPosBitsMax);this.midCoder=c.BitTreeDecoder.constructArray(3,1<<c.LZMA.kNumPosBitsMax);this.highCoder=new c.BitTreeDecoder(8)}b.prototype.init=function(){this.choice=[c.LZMA.PROB_INIT_VAL,c.LZMA.PROB_INIT_VAL];this.highCoder.init();for(var a=0;a<1<<c.LZMA.kNumPosBitsMax;a++)this.lowCoder[a].init(),this.midCoder[a].init()};b.prototype.decode=function(a,b){return 0==a.decodeBit(this.choice,0)?this.lowCoder[b].decode(a):
0==a.decodeBit(this.choice,1)?8+this.midCoder[b].decode(a):16+this.highCoder.decode(a)};return b}();c.LenDecoder=d})(nid||(nid={}));
(function(c){var d=function(){function b(){this.decoder=new c.LzmaDecoder}b.INIT_PROBS=function(a){for(var b=0;b<a.length;b++)a[b]=this.PROB_INIT_VAL};b.BitTreeReverseDecode=function(a,b,c,d){"undefined"===typeof d&&(d=0);for(var f=1,h=0,l=0;l<b;l++)var e=c.decodeBit(a,d+f),f=f<<1,f=f+e,h=h|e<<l;return h};b.prototype.decode=function(a){this.data=a;var c=new Uint8Array(13),d;for(d=0;13>d;d++)c[d]=a[d];this.decoder.decodeProperties(c);var k=0,f=!1;for(d=0;8>d;d++){var h=c[5+d];255!=h&&(f=!0);k|=h<<
8*d}this.decoder.markerIsMandatory=!f;this.decoder.rangeDec.inStream=a;this.decoder.create();a=this.decoder.decode(f,k);if(a==b.LZMA_RES_ERROR)throw"LZMA decoding error";if(a!=b.LZMA_RES_FINISHED_WITHOUT_MARKER)if(a==b.LZMA_RES_FINISHED_WITH_MARKER){if(f&&this.decoder.outWindow.out_pos!=k)throw"Finished with end marker before than specified size";}else throw"Internal Error";this.decoder.rangeDec.corrupted&&console.log("Warning: LZMA stream is corrupted");return this.decoder.outWindow.outStream};b.LZMA_DIC_MIN=
4096;b.LZMA_RES_ERROR=0;b.LZMA_RES_FINISHED_WITH_MARKER=1;b.LZMA_RES_FINISHED_WITHOUT_MARKER=2;b.kNumBitModelTotalBits=11;b.kNumMoveBits=5;b.PROB_INIT_VAL=(1<<b.kNumBitModelTotalBits)/2;b.kNumPosBitsMax=4;b.kNumStates=12;b.kNumLenToPosStates=4;b.kNumAlignBits=4;b.kStartPosModelIndex=4;b.kEndPosModelIndex=14;b.kNumFullDistances=1<<(b.kEndPosModelIndex>>>1);b.kMatchMinLen=2;return b}();c.LZMA=d})(nid||(nid={}));
(function(c){var d=function(){function b(){this.command=null;var a=this;this.decoder=new c.LZMA;addEventListener("message",function(b){null==a.command?a.command=b.data:1==a.command.job?a.command=null:2==a.command.job&&a.decode(b.data)},!1)}b.prototype.decode=function(a){this.time=Date.now();a=this.decoder.decode(new Uint8Array(a));this.command.time=Date.now()-this.time;postMessage(this.command);postMessage(a.buffer,[a.buffer])};b.ENCODE=1;b.DECODE=2;return b}();c.LZMAWorker=d})(nid||(nid={}));new nid.LZMAWorker;
